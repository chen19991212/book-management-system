{"version":3,"sources":["webpack:///./src/components/MDinput.vue?6e2b","webpack:///./src/components/EbookUpload.vue?bec7","webpack:///./src/views/book/components/Detail.vue?aaf4","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/views/book/components/Detail.vue?0818","webpack:///./src/components/Sticky.vue?3318","webpack:///src/components/Sticky.vue","webpack:///./src/components/Sticky.vue?28a4","webpack:///./src/components/Sticky.vue","webpack:///./src/components/EbookUpload.vue?f95c","webpack:///src/components/EbookUpload.vue","webpack:///./src/components/EbookUpload.vue?70ad","webpack:///./src/components/EbookUpload.vue","webpack:///./src/components/MDinput.vue?760a","webpack:///src/components/MDinput.vue","webpack:///./src/components/MDinput.vue?2a25","webpack:///./src/components/MDinput.vue","webpack:///src/views/book/components/Detail.vue","webpack:///./src/views/book/components/Detail.vue?ceef","webpack:///./src/views/book/components/Detail.vue","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/api/book.js"],"names":["isObject","setPrototypeOf","module","exports","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","postForm","rules","staticStyle","loading","on","submitForm","_v","_s","isEdit","fileList","onUploadSuccess","onUploadRemove","model","value","callback","$$v","$set","expression","labelWidth","cover","contentsTree","length","onContentClick","staticRenderFns","style","height","zIndex","class","className","top","isSticky","stickyTop","position","width","_t","name","props","type","Number","default","String","data","active","undefined","mounted","$el","getBoundingClientRect","window","addEventListener","handleScroll","handleResize","activated","destroyed","removeEventListener","methods","sticky","handleReset","reset","offsetTop","component","action","headers","beforeUpload","onSuccess","onError","onRemove","onExceed","disabled","Array","Boolean","computed","Authorization","$emit","file","code","$message","message","msg","err","computedClasses","iconClass","icon","_e","directives","rawName","fillPlaceHolder","readonly","autoComplete","required","domProps","handleMdFocus","handleMdBlur","$event","target","composing","currentValue","handleModelInput","step","max","min","minlength","maxlength","placeholder","validateEvent","focus","watch","newValue","$parent","$options","componentName","event","title","author","pulisher","language","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","trim","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","it","charCodeAt","NaN","slice","parseInt","key","NumberWrapper","arguments","valueOf","call","keys","split","j","createBook","book","request","url","method","getBook","fileName","params","updateBook","getCategory","listBook","deleteBook","removeBook"],"mappings":"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","file":"js/chunk-72389847.4f228817.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MDinput.vue?vue&type=style&index=0&id=21944868&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookUpload.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=19c64c40&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"postForm\",staticClass:\"detail\",attrs:{\"model\":_vm.postForm,\"rules\":_vm.rules}},[_c('sticky',{attrs:{\"class-name\":'sub-navbar'}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"loading\":_vm.loading,\"type\":\"success\"},on:{\"click\":_vm.submitForm}},[_vm._v(\" \"+_vm._s(_vm.isEdit ? '编辑电子书' : '新增电子书')+\" \")])],1),_c('div',{staticClass:\"detail-container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('ebook-upload',{attrs:{\"file-list\":_vm.fileList,\"disabled\":_vm.isEdit},on:{\"onSuccess\":_vm.onUploadSuccess,\"onRemove\":_vm.onUploadRemove}})],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"title\"}},[_c('MdInput',{attrs:{\"maxlength\":100,\"name\":\"name\",\"required\":\"\"},model:{value:(_vm.postForm.title),callback:function ($$v) {_vm.$set(_vm.postForm, \"title\", $$v)},expression:\"postForm.title\"}},[_vm._v(\" 书名 \")])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"author\",\"label\":\"作者：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"作者\"},model:{value:(_vm.postForm.author),callback:function ($$v) {_vm.$set(_vm.postForm, \"author\", $$v)},expression:\"postForm.author\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"publisher\",\"label\":\"出版社：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"出版社\"},model:{value:(_vm.postForm.publisher),callback:function ($$v) {_vm.$set(_vm.postForm, \"publisher\", $$v)},expression:\"postForm.publisher\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"coverPath\",\"label\":\"分类：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"分类\"},model:{value:(_vm.postForm.categoryText),callback:function ($$v) {_vm.$set(_vm.postForm, \"categoryText\", $$v)},expression:\"postForm.categoryText\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"coverPath\",\"label\":\"分类编号\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"分类编号\"},model:{value:(_vm.postForm.category),callback:function ($$v) {_vm.$set(_vm.postForm, \"category\", $$v)},expression:\"postForm.category\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"language\",\"label\":\"语言：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"语言\"},model:{value:(_vm.postForm.language),callback:function ($$v) {_vm.$set(_vm.postForm, \"language\", $$v)},expression:\"postForm.language\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"rootFile\",\"label\":\"根文件：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"根文件\",\"disabled\":\"\"},model:{value:(_vm.postForm.rootFile),callback:function ($$v) {_vm.$set(_vm.postForm, \"rootFile\", $$v)},expression:\"postForm.rootFile\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"filePath\",\"label\":\"文件路径：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"文件路径\",\"disabled\":\"\"},model:{value:(_vm.postForm.filePath),callback:function ($$v) {_vm.$set(_vm.postForm, \"filePath\", $$v)},expression:\"postForm.filePath\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"unzipPath\",\"label\":\"解压路径：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"解压路径\",\"disabled\":\"\"},model:{value:(_vm.postForm.unzipPath),callback:function ($$v) {_vm.$set(_vm.postForm, \"unzipPath\", $$v)},expression:\"postForm.unzipPath\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"coverPath\",\"label\":\"封面路径：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"封面路径\",\"disabled\":\"\"},model:{value:(_vm.postForm.coverPath),callback:function ($$v) {_vm.$set(_vm.postForm, \"coverPath\", $$v)},expression:\"postForm.coverPath\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"originalName\",\"label\":\"文件名称：\",\"label-width\":_vm.labelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"文件名称\",\"disabled\":\"\"},model:{value:(_vm.postForm.originalName),callback:function ($$v) {_vm.$set(_vm.postForm, \"originalName\", $$v)},expression:\"postForm.originalName\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"cover\",\"label\":\"封面：\",\"label-width\":_vm.labelWidth}},[(_vm.postForm.cover)?_c('a',{attrs:{\"href\":_vm.postForm.cover,\"target\":\"_blank\"}},[_c('img',{staticClass:\"preview-img\",attrs:{\"src\":_vm.postForm.cover}})]):_c('span',[_vm._v(\"无\")])])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"目录：\",\"label-width\":_vm.labelWidth}},[(_vm.contentsTree && _vm.contentsTree.length > 0)?_c('div',{staticClass:\"contents-wrapper\"},[_c('el-tree',{attrs:{\"data\":_vm.contentsTree},on:{\"node-click\":_vm.onContentClick}})],1):_c('span',[_vm._v(\"无\")])])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({height:_vm.height+'px',zIndex:_vm.zIndex})},[_c('div',{class:_vm.className,style:({top:(_vm.isSticky ? _vm.stickyTop +'px' : ''),zIndex:_vm.zIndex,position:_vm.position,width:_vm.width,height:_vm.height+'px'})},[_vm._t(\"default\",[_c('div',[_vm._v(\"sticky\")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :style=\"{height:height+'px',zIndex:zIndex}\">\r\n    <div\r\n      :class=\"className\"\r\n      :style=\"{top:(isSticky ? stickyTop +'px' : ''),zIndex:zIndex,position:position,width:width,height:height+'px'}\"\r\n    >\r\n      <slot>\r\n        <div>sticky</div>\r\n      </slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Sticky',\r\n  props: {\r\n    stickyTop: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    zIndex: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    className: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      active: false,\r\n      position: '',\r\n      width: undefined,\r\n      height: undefined,\r\n      isSticky: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.height = this.$el.getBoundingClientRect().height\r\n    window.addEventListener('scroll', this.handleScroll)\r\n    window.addEventListener('resize', this.handleResize)\r\n  },\r\n  activated() {\r\n    this.handleScroll()\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n    window.removeEventListener('resize', this.handleResize)\r\n  },\r\n  methods: {\r\n    sticky() {\r\n      if (this.active) {\r\n        return\r\n      }\r\n      this.position = 'fixed'\r\n      this.active = true\r\n      this.width = this.width + 'px'\r\n      this.isSticky = true\r\n    },\r\n    handleReset() {\r\n      if (!this.active) {\r\n        return\r\n      }\r\n      this.reset()\r\n    },\r\n    reset() {\r\n      this.position = ''\r\n      this.width = 'auto'\r\n      this.active = false\r\n      this.isSticky = false\r\n    },\r\n    handleScroll() {\r\n      const width = this.$el.getBoundingClientRect().width\r\n      this.width = width || 'auto'\r\n      const offsetTop = this.$el.getBoundingClientRect().top\r\n      if (offsetTop < this.stickyTop) {\r\n        this.sticky()\r\n        return\r\n      }\r\n      this.handleReset()\r\n    },\r\n    handleResize() {\r\n      if (this.isSticky) {\r\n        this.width = this.$el.getBoundingClientRect().width + 'px'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sticky.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sticky.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sticky.vue?vue&type=template&id=79029776&\"\nimport script from \"./Sticky.vue?vue&type=script&lang=js&\"\nexport * from \"./Sticky.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-upload',{staticClass:\"image-upload\",attrs:{\"action\":_vm.action,\"headers\":_vm.headers,\"multiple\":false,\"limit\":1,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.onSuccess,\"on-error\":_vm.onError,\"on-remove\":_vm.onRemove,\"file-list\":_vm.fileList,\"on-exceed\":_vm.onExceed,\"disabled\":_vm.disabled,\"drag\":\"\",\"show-file-list\":\"\",\"accept\":\"application/epub+zip\"}},[_c('i',{staticClass:\"el-icon-upload\"}),(_vm.fileList.length === 0)?_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 请将电子书拖入或 \"),_c('em',[_vm._v(\"点击上传\")])]):_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"图书已上传\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"upload-container\">\r\n    <el-upload\r\n      :action=\"action\"\r\n      :headers=\"headers\" \r\n      :multiple=\"false\"\r\n      :limit=\"1\"\r\n      :before-upload=\"beforeUpload\"\r\n      :on-success=\"onSuccess\"\r\n      :on-error=\"onError\"\r\n      :on-remove=\"onRemove\"\r\n      :file-list=\"fileList\"\r\n      :on-exceed=\"onExceed\"\r\n      :disabled=\"disabled\"\r\n      drag\r\n      show-file-list\r\n      accept=\"application/epub+zip\"\r\n      class=\"image-upload\"\r\n    >\r\n      <i class=\"el-icon-upload\" />\r\n      <div v-if=\"fileList.length === 0\" class=\"el-upload__text\">\r\n        请将电子书拖入或 <em>点击上传</em>\r\n      </div>\r\n      <div v-else class=\"el-upload__text\">图书已上传</div>\r\n    </el-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from '@/utils/auth'\r\n\r\nexport default {\r\n  props: {\r\n    fileList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      action: `http://121.41.178.240:5000/book/upload`\r\n    }\r\n  },\r\n  computed: {\r\n    headers() {//token认证\r\n      return {\r\n        Authorization: `Bearer ${getToken()}`\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    beforeUpload(file) {\r\n      this.$emit('beforeUpload', file)\r\n    },\r\n    //上传成功事件\r\n    onSuccess(response, file) {\r\n      const { code, msg, data } = response\r\n      if (code === 0) {\r\n        this.$message({\r\n          message: msg,\r\n          type: 'success'\r\n        })\r\n        this.$emit('onSuccess', data)\r\n      } else {\r\n        this.$message({\r\n          message: (msg && `上传失败，失败原因：${msg}`) || '上传失败',\r\n          type: 'error'\r\n        })\r\n        this.$emit('onError', file)\r\n      }\r\n    },\r\n    //上传失败事件\r\n    onError(err) {\r\n      const errMsg = err.message && JSON.parse(err.message)\r\n      this.$message({\r\n        message: (errMsg && errMsg.msg && `上传失败，失败原因：${errMsg.msg}`) || '上传失败',\r\n        type: 'error'\r\n      })\r\n      this.$emit('onError', err)\r\n    },\r\n    //移除事件\r\n    onRemove() {\r\n      this.$message({\r\n        message: '电子书删除成功',\r\n        type: 'success'\r\n      })\r\n      this.$emit('onRemove')\r\n    },\r\n    //提示\r\n    onExceed() {\r\n      this.$message({\r\n        message: '每次只能上传一本电子书',\r\n        type: 'warning'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .upload-container{\r\n    .el-upload{\r\n      width: 100%;\r\n      .el-upload-dragger{\r\n        width: 100%;\r\n        height: 200px;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EbookUpload.vue?vue&type=template&id=2c148d66&\"\nimport script from \"./EbookUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./EbookUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EbookUpload.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-input__component\",class:_vm.computedClasses},[_c('div',{class:{iconClass:_vm.icon}},[(_vm.icon)?_c('i',{staticClass:\"el-input__icon material-input__icon\",class:['el-icon-' + _vm.icon]}):_vm._e(),(_vm.type === 'email')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"required\":_vm.required,\"type\":\"email\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),(_vm.type === 'url')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"required\":_vm.required,\"type\":\"url\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),(_vm.type === 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"step\":_vm.step,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"max\":_vm.max,\"min\":_vm.min,\"minlength\":_vm.minlength,\"maxlength\":_vm.maxlength,\"required\":_vm.required,\"type\":\"number\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),(_vm.type === 'password')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"max\":_vm.max,\"min\":_vm.min,\"required\":_vm.required,\"type\":\"password\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),(_vm.type === 'tel')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"required\":_vm.required,\"type\":\"tel\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),(_vm.type === 'text')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentValue),expression:\"currentValue\"}],staticClass:\"material-input\",attrs:{\"name\":_vm.name,\"placeholder\":_vm.fillPlaceHolder,\"readonly\":_vm.readonly,\"disabled\":_vm.disabled,\"autocomplete\":_vm.autoComplete,\"minlength\":_vm.minlength,\"maxlength\":_vm.maxlength,\"required\":_vm.required,\"type\":\"text\"},domProps:{\"value\":(_vm.currentValue)},on:{\"focus\":_vm.handleMdFocus,\"blur\":_vm.handleMdBlur,\"input\":[function($event){if($event.target.composing){ return; }_vm.currentValue=$event.target.value},_vm.handleModelInput]}}):_vm._e(),_c('span',{staticClass:\"material-input-bar\"}),_c('label',{staticClass:\"material-label\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"computedClasses\" class=\"material-input__component\">\r\n    <div :class=\"{iconClass:icon}\">\r\n      <i v-if=\"icon\" :class=\"['el-icon-' + icon]\" class=\"el-input__icon material-input__icon\" />\r\n      <input\r\n        v-if=\"type === 'email'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :required=\"required\"\r\n        type=\"email\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <input\r\n        v-if=\"type === 'url'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :required=\"required\"\r\n        type=\"url\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <input\r\n        v-if=\"type === 'number'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :step=\"step\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :max=\"max\"\r\n        :min=\"min\"\r\n        :minlength=\"minlength\"\r\n        :maxlength=\"maxlength\"\r\n        :required=\"required\"\r\n        type=\"number\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <input\r\n        v-if=\"type === 'password'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :max=\"max\"\r\n        :min=\"min\"\r\n        :required=\"required\"\r\n        type=\"password\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <input\r\n        v-if=\"type === 'tel'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :required=\"required\"\r\n        type=\"tel\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <input\r\n        v-if=\"type === 'text'\"\r\n        v-model=\"currentValue\"\r\n        :name=\"name\"\r\n        :placeholder=\"fillPlaceHolder\"\r\n        :readonly=\"readonly\"\r\n        :disabled=\"disabled\"\r\n        :autocomplete=\"autoComplete\"\r\n        :minlength=\"minlength\"\r\n        :maxlength=\"maxlength\"\r\n        :required=\"required\"\r\n        type=\"text\"\r\n        class=\"material-input\"\r\n        @focus=\"handleMdFocus\"\r\n        @blur=\"handleMdBlur\"\r\n        @input=\"handleModelInput\"\r\n      >\r\n      <span class=\"material-input-bar\" />\r\n      <label class=\"material-label\">\r\n        <slot />\r\n      </label>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'MdInput',\r\n  props: {\r\n    /* eslint-disable */\r\n    icon: String,\r\n    name: String,\r\n    type: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    value: [String, Number],\r\n    placeholder: String,\r\n    readonly: Boolean,\r\n    disabled: Boolean,\r\n    min: String,\r\n    max: String,\r\n    step: String,\r\n    minlength: Number,\r\n    maxlength: Number,\r\n    required: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    autoComplete: {\r\n      type: String,\r\n      default: 'off'\r\n    },\r\n    validateEvent: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentValue: this.value,\r\n      focus: false,\r\n      fillPlaceHolder: null\r\n    }\r\n  },\r\n  computed: {\r\n    computedClasses() {\r\n      return {\r\n        'material--active': this.focus,\r\n        'material--disabled': this.disabled,\r\n        'material--raised': Boolean(this.focus || this.currentValue) // has value\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.currentValue = newValue\r\n    }\r\n  },\r\n  methods: {\r\n    handleModelInput(event) {\r\n      const value = event.target.value\r\n      this.$emit('input', value)\r\n      if (this.$parent.$options.componentName === 'ElFormItem') {\r\n        if (this.validateEvent) {\r\n          this.$parent.$emit('el.form.change', [value])\r\n        }\r\n      }\r\n      this.$emit('change', value)\r\n    },\r\n    handleMdFocus(event) {\r\n      this.focus = true\r\n      this.$emit('focus', event)\r\n      if (this.placeholder && this.placeholder !== '') {\r\n        this.fillPlaceHolder = this.placeholder\r\n      }\r\n    },\r\n    handleMdBlur(event) {\r\n      this.focus = false\r\n      this.$emit('blur', event)\r\n      this.fillPlaceHolder = null\r\n      if (this.$parent.$options.componentName === 'ElFormItem') {\r\n        if (this.validateEvent) {\r\n          this.$parent.$emit('el.form.blur', [this.currentValue])\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n  // Component:\r\n  .material-input__component {\r\n    margin-top: 36px;\r\n    position: relative;\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n    .iconClass {\r\n      .material-input__icon {\r\n        position: absolute;\r\n        left: 0;\r\n        line-height: 16px;\r\n        color: #2196F3;\r\n        top: 12px;\r\n        width: 30px;\r\n        height: 16px;\r\n        font-size: 16px;\r\n        font-weight: normal;\r\n        pointer-events: none;\r\n      }\r\n      .material-label {\r\n        left: 30px;\r\n      }\r\n      .material-input {\r\n        text-indent: 30px;\r\n      }\r\n    }\r\n    .material-input {\r\n      font-size: 16px;\r\n      padding: 12px 12px 2px 6px;\r\n      display: block;\r\n      width: 100%;\r\n      border: none;\r\n      line-height: 1;\r\n      border-radius: 0;\r\n      &:focus {\r\n        outline: none;\r\n        border: none;\r\n        border-bottom: 1px solid transparent; \r\n      }\r\n    }\r\n    .material-label {\r\n      font-weight: normal;\r\n      position: absolute;\r\n      pointer-events: none;\r\n      left: 0;\r\n      top: 0;\r\n      transition: 0.2s ease all;\r\n      font-size: 18px;\r\n    }\r\n    .material-input-bar {\r\n      position: relative;\r\n      display: block;\r\n      width: 100%;\r\n      &:before {\r\n        content: '';\r\n        height: 1px;\r\n        width: 0;\r\n        bottom: 0;\r\n        position: absolute;\r\n        transition: 0.2s ease all;\r\n        left: 50%;\r\n      }\r\n      &:after {\r\n        content: '';\r\n        height: 1px;\r\n        width: 0;\r\n        bottom: 0;\r\n        position: absolute;\r\n        transition: 0.2s ease all;\r\n        right: 50%;\r\n      }\r\n    }\r\n    // Disabled state:\r\n    &.material--disabled {\r\n      .material-input {\r\n        border-bottom-style: dashed;\r\n      }\r\n    }\r\n    // Raised state:\r\n    &.material--raised {\r\n      .material-label {\r\n        top: -28px;\r\n        left: 0;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    // Active state:\r\n    &.material--active {\r\n      .material-input-bar {\r\n        &:before,\r\n        &:after {\r\n          width: 50%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .material-input__component {\r\n    background: #FFF;\r\n    .material-input {\r\n      background: none;\r\n      color: black;\r\n      text-indent: 0px;\r\n      border-bottom: 1px solid #E0E0E0;\r\n    }\r\n    .material-label {\r\n      color: #9E9E9E;\r\n    }\r\n    .material-input-bar {\r\n      &:before,\r\n      &:after {\r\n        background-color: #2196F3;\r\n      }\r\n    }\r\n    // Active state:\r\n    &.material--active {\r\n      .material-label {\r\n        color: #2196F3;\r\n      }\r\n    }\r\n    // Errors:\r\n    &.material--has-errors {\r\n      &.material--active .material-label {\r\n        color: #030303;\r\n      }\r\n      .material-input-bar {\r\n        &:before,\r\n        &:after {\r\n          background-color: transparent;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MDinput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MDinput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MDinput.vue?vue&type=template&id=21944868&scoped=true&\"\nimport script from \"./MDinput.vue?vue&type=script&lang=js&\"\nexport * from \"./MDinput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MDinput.vue?vue&type=style&index=0&id=21944868&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21944868\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"rules\" class=\"detail\">\r\n    <sticky :class-name=\"'sub-navbar'\">\r\n      <!-- <el-button v-if=\"!isEdit\" @click=\"showGuide\">显示帮助</el-button> -->\r\n      <el-button\r\n        :loading=\"loading\"\r\n        type=\"success\"\r\n        style=\"margin-left: 10px\"\r\n        @click=\"submitForm\"\r\n      >\r\n        {{ isEdit ? '编辑电子书' : '新增电子书' }}\r\n      </el-button>\r\n    </sticky>\r\n    <div class=\"detail-container\">\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <ebook-upload\r\n            :file-list=\"fileList\"\r\n            :disabled=\"isEdit\"\r\n            @onSuccess=\"onUploadSuccess\"\r\n            @onRemove=\"onUploadRemove\"\r\n          />\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item prop=\"title\">\r\n            <MdInput v-model=\"postForm.title\" :maxlength=\"100\" name=\"name\" required>\r\n              书名\r\n            </MdInput>\r\n          </el-form-item>\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"author\" label=\"作者：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.author\"\r\n                  placeholder=\"作者\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"publisher\" label=\"出版社：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.publisher\"\r\n                  placeholder=\"出版社\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"coverPath\" label=\"分类：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.categoryText\"\r\n                  placeholder=\"分类\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"coverPath\" label=\"分类编号\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.category\"\r\n                  placeholder=\"分类编号\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"language\" label=\"语言：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.language\"\r\n                  placeholder=\"语言\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"rootFile\" label=\"根文件：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.rootFile\"\r\n                  placeholder=\"根文件\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"filePath\" label=\"文件路径：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.filePath\"\r\n                  placeholder=\"文件路径\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"unzipPath\" label=\"解压路径：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.unzipPath\"\r\n                  placeholder=\"解压路径\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"coverPath\" label=\"封面路径：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.coverPath\"\r\n                  placeholder=\"封面路径\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item prop=\"originalName\" label=\"文件名称：\" :label-width=\"labelWidth\">\r\n                <el-input\r\n                  v-model=\"postForm.originalName\"\r\n                  placeholder=\"文件名称\"\r\n                  disabled\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-form-item prop=\"cover\" label=\"封面：\" :label-width=\"labelWidth\">\r\n                <a v-if=\"postForm.cover\" :href=\"postForm.cover\" target=\"_blank\">\r\n                  <img :src=\"postForm.cover\" class=\"preview-img\">\r\n                </a>\r\n                <span v-else>无</span>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"目录：\" :label-width=\"labelWidth\">\r\n                <div v-if=\"contentsTree && contentsTree.length > 0\" class=\"contents-wrapper\">\r\n                  <el-tree :data=\"contentsTree\" @node-click=\"onContentClick\" />\r\n                </div>\r\n                <span v-else>无</span>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport Sticky from '@/components/Sticky';\r\nimport EbookUpload from '@/components/EbookUpload'\r\nimport MdInput from '@/components/MDinput'\r\nimport {createBook,getBook,updateBook,removeBook} from '@/api/book';\r\n\r\nconst defaultForm = {\r\n  title: '',\r\n  author: '',\r\n  publisher: '',\r\n  language: '',\r\n  rootFile: '',\r\n  cover: '',\r\n  url: '',\r\n  originalName: '',\r\n  contents: '',\r\n  contentsTree: '',\r\n  fileName: '',\r\n  coverPath: '',\r\n  filePath: '',\r\n  unzipPath: ''\r\n}\r\nconst fields = {\r\n  title: '书名',\r\n  author: '作者',\r\n  pulisher: '出版社',\r\n  language: '语言'\r\n}\r\n  export default {\r\n    name:'',\r\n    components:{\r\n      Sticky,\r\n      EbookUpload,\r\n      MdInput\r\n    },\r\n    props: {\r\n      isEdit: Boolean\r\n    },\r\n    data() {\r\n      const validateRequire = (rule, value, callback) => {\r\n        if(!value || value.length === 0){\r\n          callback(new Error(fields[rule.field] + '必须填写'))\r\n        }else{\r\n          callback()\r\n        }\r\n      }\r\n      return {\r\n        loading: false,\r\n        postForm: {},\r\n        fileList: [],\r\n        labelWidth: '120px',\r\n        contentsTree: [],\r\n        rules:{\r\n          title: [{validator: validateRequire}],\r\n          author: [{validator: validateRequire}],\r\n          language: [{validator: validateRequire}],\r\n          pulisher: [{validator: validateRequire}]\r\n        }\r\n      };\r\n    },\r\n    created(){\r\n      if(this.isEdit){\r\n        const fileName = this.$route.params.fileName\r\n        this.getBookData(fileName)\r\n      }\r\n    },\r\n    methods: {\r\n      showGuide(){\r\n        //console.log('show guide');\r\n      },\r\n      //新增电子书，提交表单\r\n      submitForm() {\r\n        if(!this.loading){\r\n          this.loading = true\r\n          this.$refs.postForm.validate((valid, fields) => {\r\n            if(valid){\r\n              const book = {...this.postForm}\r\n              //delete book.contents\r\n              delete book.contentsTree\r\n              if(!this.isEdit){\r\n                createBook(book).then(res => {\r\n                  const {msg} = res\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: msg,\r\n                  })\r\n                  this.loading = false\r\n                  this.setDefault()\r\n                }).catch(()=> {\r\n                  this.loading = false\r\n                })\r\n                \r\n              }else{\r\n                updateBook(book).then(res => {\r\n                  const {msg} = res\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: msg,\r\n                  })\r\n                  this.loading = false\r\n                }).catch(()=> {\r\n                  this.loading = false\r\n                })\r\n              }\r\n            }else{\r\n              const message = fields[Object.keys(fields)[0]][0].message\r\n              this.$message({ message,type: 'error'})\r\n              this.loading = false\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //上传成功回调\r\n      onUploadSuccess(data) {\r\n        console.log('onUploadSuccess',data);\r\n        this.setData(data)\r\n      },\r\n      //移除电子书回调\r\n      onUploadRemove() {\r\n        console.log('onUploadRemove',this.postForm);\r\n        removeBook(this.postForm)\r\n        this.setDefault()\r\n      },\r\n      setDefault(){\r\n        //this.postForm = Object.assign({}, defaultForm)\r\n        this.contentsTree = []\r\n        this.fileList = []\r\n        this.$refs.postForm.resetFields()\r\n      },\r\n\r\n      //章节节点点击事件\r\n      onContentClick(data) {\r\n        if(data.text){\r\n          window.open(data.text)\r\n        }\r\n      },\r\n      setData(data){\r\n        const {\r\n          title,\r\n          author,\r\n          publisher,\r\n          language,\r\n          rootFile,\r\n          cover,\r\n          url,\r\n          originalName,\r\n          contents,\r\n          contentsTree,\r\n          fileName,\r\n          coverPath,\r\n          filePath,\r\n          unzipPath,\r\n          category,\r\n          categoryText\r\n        } = data\r\n        this.postForm = {\r\n          ...this.postForm,\r\n          title,\r\n          author,\r\n          publisher,\r\n          language,\r\n          rootFile,\r\n          cover,\r\n          url,\r\n          originalName,\r\n          contents,\r\n          contentsTree,\r\n          fileName,\r\n          coverPath,\r\n          filePath,\r\n          unzipPath,\r\n          category: category || 99,\r\n          categoryText: categoryText || '自定义'\r\n        }\r\n        this.contentsTree = contentsTree\r\n        this.fileList = [{ name: originalName || fileName, url}]\r\n        console.log(this.postForm);\r\n      },\r\n      //编辑电子书：获取电子书数据\r\n      getBookData(fileName){\r\n        getBook(fileName).then(res => {\r\n          this.setData(res.data)\r\n        })\r\n      }\r\n      \r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .detail{\r\n    margin-top: 50px;\r\n    .detail-container {\r\n      padding: 40px 50px 20px;\r\n\r\n      .preview-img {\r\n        width: 200px;\r\n        height: 270px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=19c64c40&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=19c64c40&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19c64c40\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import request from '../utils/request';\r\n\r\nexport function createBook(book){\r\n  return request({\r\n    url: '/book/create',\r\n    method: 'post',\r\n    data: book\r\n  })\r\n}\r\n\r\nexport function getBook(fileName){\r\n  return request({\r\n    url: '/book/get',\r\n    method: 'get',\r\n    params: { fileName }\r\n  })\r\n}\r\n\r\nexport function updateBook(book){\r\n  return request({\r\n    url: '/book/update',\r\n    method: 'post',\r\n    data: book\r\n  })\r\n}\r\n\r\nexport function getCategory(){\r\n  return request({\r\n    url: '/book/category',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function listBook(params){\r\n  return request({\r\n    url: '/book/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\nexport function deleteBook(fileName,title){\r\n  return request({\r\n    url: '/book/delete',\r\n    method: 'get',\r\n    params: { fileName, title }\r\n  })\r\n}\r\n\r\nexport function removeBook(book){\r\n  return request({\r\n    url: '/book/remove',\r\n    method: 'post',\r\n    data: book\r\n  })\r\n}"],"sourceRoot":""}